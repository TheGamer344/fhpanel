{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{410:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),i=a(287),c=a(256),l=a(15),o=a(27),s=a(57),m=a(257),d=a(1),p=a(254),u=a(56),g=a(28),y=a(17),w=a(176),b=a(178),h=a(24),f=a(34),v=a.n(f),_=()=>r.a.createElement(r.a.Fragment,null),E=()=>r.a.createElement(r.a.Fragment,null),S=()=>r.a.createElement(r.a.Fragment,null),x=()=>r.a.createElement(r.a.Fragment,null),j=()=>r.a.createElement(r.a.Fragment,null);const O=(e,t)=>t>0&&e/(1024*t*1024)>=.9,C=Object(n.memo)(Object(d.c)(u.a).withConfig({displayName:\"ServerRow__Icon\",componentId:\"sc-1ibsw91-0\"})([\"\",\";\"],(e=>e.$alarm?{\"--tw-text-opacity\":\"1\",color:\"rgba(248, 113, 113, var(--tw-text-opacity))\"}:{\"--tw-text-opacity\":\"1\",color:\"hsla(211, 12%, 43%, var(--tw-text-opacity))\"})),v.a),k=d.c.p.withConfig({displayName:\"ServerRow__IconDescription\",componentId:\"sc-1ibsw91-1\"})([\"\",\";\",\";\"],{fontSize:\"0.875rem\",lineHeight:\"1.25rem\",marginLeft:\"0.5rem\"},(e=>e.$alarm?{\"--tw-text-opacity\":\"1\",color:\"rgba(255, 255, 255, var(--tw-text-opacity))\"}:{\"--tw-text-opacity\":\"1\",color:\"hsla(211, 10%, 53%, var(--tw-text-opacity))\"})),I=Object(d.c)(b.a).withConfig({displayName:\"ServerRow__StatusIndicatorBox\",componentId:\"sc-1ibsw91-2\"})([\"\",\";& .status-bar{\",\";height:calc(100% - 0.5rem);\",\";}&:hover .status-bar{\",\";}\"],{display:\"grid\",gridTemplateColumns:\"repeat(12, minmax(0, 1fr))\",gap:\"1rem\",position:\"relative\"},{width:\"0.5rem\",\"--tw-bg-opacity\":\"1\",backgroundColor:\"rgba(239, 68, 68, var(--tw-bg-opacity))\",position:\"absolute\",right:\"0px\",zIndex:\"20\",borderRadius:\"9999px\",margin:\"0.25rem\",opacity:\"0.5\",transitionProperty:\"all\",transitionTimingFunction:\"cubic-bezier(0.4, 0, 0.2, 1)\",transitionDuration:\"150ms\"},(e=>{let{$status:t}=e;return t&&\"offline\"!==t?\"running\"===t?{\"--tw-bg-opacity\":\"1\",backgroundColor:\"rgba(16, 185, 129, var(--tw-bg-opacity))\"}:{\"--tw-bg-opacity\":\"1\",backgroundColor:\"rgba(245, 158, 11, var(--tw-bg-opacity))\"}:{\"--tw-bg-opacity\":\"1\",backgroundColor:\"rgba(239, 68, 68, var(--tw-bg-opacity))\"}}),{opacity:\"0.75\"});var N=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv\",componentId:\"sc-1ibsw91-3\"})({gridColumn:\"span 12 / span 12\",display:\"flex\",alignItems:\"center\",\"@media (min-width: 640px)\":{gridColumn:\"span 5 / span 5\"},\"@media (min-width: 1024px)\":{gridColumn:\"span 6 / span 6\"}}),R=Object(d.c)(\"p\").withConfig({displayName:\"ServerRow___StyledP\",componentId:\"sc-1ibsw91-4\"})({fontSize:\"1.125rem\",lineHeight:\"1.75rem\",overflowWrap:\"break-word\"}),D=Object(d.c)(\"p\").withConfig({displayName:\"ServerRow___StyledP2\",componentId:\"sc-1ibsw91-5\"})({fontSize:\"0.875rem\",lineHeight:\"1.25rem\",\"--tw-text-opacity\":\"1\",color:\"hsla(211, 13%, 65%, var(--tw-text-opacity))\",overflowWrap:\"break-word\",overflow:\"hidden\",display:\"-webkit-box\",WebkitBoxOrient:\"vertical\",WebkitLineClamp:\"2\"}),F=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv2\",componentId:\"sc-1ibsw91-6\"})({flex:\"1 1 0%\",marginLeft:\"1rem\",display:\"none\",\"@media (min-width: 1024px)\":{gridColumn:\"span 2 / span 2\",display:\"block\"}}),P=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv3\",componentId:\"sc-1ibsw91-7\"})({display:\"flex\",justifyContent:\"center\"}),z=Object(d.c)(u.a).withConfig({displayName:\"ServerRow___StyledFontAwesomeIcon\",componentId:\"sc-1ibsw91-8\"})({\"--tw-text-opacity\":\"1\",color:\"hsla(211, 12%, 43%, var(--tw-text-opacity))\"}),T=Object(d.c)(\"p\").withConfig({displayName:\"ServerRow___StyledP3\",componentId:\"sc-1ibsw91-9\"})({fontSize:\"0.875rem\",lineHeight:\"1.25rem\",\"--tw-text-opacity\":\"1\",color:\"hsla(211, 10%, 53%, var(--tw-text-opacity))\",marginLeft:\"0.5rem\"}),B=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv4\",componentId:\"sc-1ibsw91-10\"})({gridColumn:\"span 7 / span 7\",display:\"none\",alignItems:\"baseline\",justifyContent:\"center\",\"@media (min-width: 640px)\":{display:\"flex\"},\"@media (min-width: 1024px)\":{gridColumn:\"span 4 / span 4\"}}),U=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv5\",componentId:\"sc-1ibsw91-11\"})({flex:\"1 1 0%\",textAlign:\"center\"}),A=Object(d.c)(\"span\").withConfig({displayName:\"ServerRow___StyledSpan\",componentId:\"sc-1ibsw91-12\"})({\"--tw-bg-opacity\":\"1\",backgroundColor:\"rgba(239, 68, 68, var(--tw-bg-opacity))\",borderRadius:\"0.25rem\",paddingLeft:\"0.5rem\",paddingRight:\"0.5rem\",paddingTop:\"0.25rem\",paddingBottom:\"0.25rem\",\"--tw-text-opacity\":\"1\",color:\"rgba(254, 226, 226, var(--tw-text-opacity))\",fontSize:\"0.75rem\",lineHeight:\"1rem\"}),H=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv6\",componentId:\"sc-1ibsw91-13\"})({flex:\"1 1 0%\",textAlign:\"center\"}),$=Object(d.c)(\"span\").withConfig({displayName:\"ServerRow___StyledSpan2\",componentId:\"sc-1ibsw91-14\"})({\"--tw-bg-opacity\":\"1\",backgroundColor:\"hsla(211, 12%, 43%, var(--tw-bg-opacity))\",borderRadius:\"0.25rem\",paddingLeft:\"0.5rem\",paddingRight:\"0.5rem\",paddingTop:\"0.25rem\",paddingBottom:\"0.25rem\",\"--tw-text-opacity\":\"1\",color:\"hsla(214, 15%, 91%, var(--tw-text-opacity))\",fontSize:\"0.75rem\",lineHeight:\"1rem\"}),L=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv7\",componentId:\"sc-1ibsw91-15\"})({flex:\"1 1 0%\",marginLeft:\"1rem\",display:\"none\",\"@media (min-width: 640px)\":{display:\"block\"}}),W=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv8\",componentId:\"sc-1ibsw91-16\"})({display:\"flex\",justifyContent:\"center\"}),J=Object(d.c)(\"p\").withConfig({displayName:\"ServerRow___StyledP4\",componentId:\"sc-1ibsw91-17\"})({fontSize:\"0.75rem\",lineHeight:\"1rem\",\"--tw-text-opacity\":\"1\",color:\"hsla(209, 14%, 37%, var(--tw-text-opacity))\",textAlign:\"center\",marginTop:\"0.25rem\"}),K=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv9\",componentId:\"sc-1ibsw91-18\"})({flex:\"1 1 0%\",marginLeft:\"1rem\",display:\"none\",\"@media (min-width: 640px)\":{display:\"block\"}}),q=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv10\",componentId:\"sc-1ibsw91-19\"})({display:\"flex\",justifyContent:\"center\"}),G=Object(d.c)(\"p\").withConfig({displayName:\"ServerRow___StyledP5\",componentId:\"sc-1ibsw91-20\"})({fontSize:\"0.75rem\",lineHeight:\"1rem\",\"--tw-text-opacity\":\"1\",color:\"hsla(209, 14%, 37%, var(--tw-text-opacity))\",textAlign:\"center\",marginTop:\"0.25rem\"}),M=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv11\",componentId:\"sc-1ibsw91-21\"})({flex:\"1 1 0%\",marginLeft:\"1rem\",display:\"none\",\"@media (min-width: 640px)\":{display:\"block\"}}),Q=Object(d.c)(\"div\").withConfig({displayName:\"ServerRow___StyledDiv12\",componentId:\"sc-1ibsw91-22\"})({display:\"flex\",justifyContent:\"center\"}),V=Object(d.c)(\"p\").withConfig({displayName:\"ServerRow___StyledP6\",componentId:\"sc-1ibsw91-23\"})({fontSize:\"0.75rem\",lineHeight:\"1rem\",\"--tw-text-opacity\":\"1\",color:\"hsla(209, 14%, 37%, var(--tw-text-opacity))\",textAlign:\"center\",marginTop:\"0.25rem\"}),X=a(58),Y=a(154),Z=a(2),ee=a(258),te=a(205),ae=a(175),ne=a(259),re=()=>r.a.createElement(r.a.Fragment,null),ie=()=>r.a.createElement(r.a.Fragment,null),ce=()=>{const{search:e}=Object(o.g)(),t=Number(new URLSearchParams(e).get(\"page\")||\"1\"),[a,i]=Object(n.useState)(!isNaN(t)&&t>0?t:1),{clearFlashes:c,clearAndAddHttpError:l}=Object(Y.a)(),s=Object(Z.useStoreState)((e=>e.user.data.uuid)),m=Object(Z.useStoreState)((e=>e.user.data.rootAdmin)),[d,u]=Object(ee.a)(\"\".concat(s,\":show_all_servers\"),!1),{data:g,error:y}=Object(ae.a)([\"/api/client/servers\",d&&m,a],(()=>Object(p.a)({page:a,type:d&&m?\"admin\":void 0})));return Object(n.useEffect)((()=>{g&&g.pagination.currentPage>1&&!g.items.length&&i(1)}),[null==g?void 0:g.pagination.currentPage]),Object(n.useEffect)((()=>{window.history.replaceState(null,document.title,\"/\".concat(a<=1?\"\":\"?page=\".concat(a)))}),[a]),Object(n.useEffect)((()=>{y&&l({key:\"dashboard\",error:y}),y||c(\"dashboard\")}),[y]),r.a.createElement(X.a,{title:\"Dashboard\",showFlashKey:\"dashboard\"},r.a.createElement(re,null),m&&r.a.createElement(le,null,r.a.createElement(oe,null,d?\"Showing others' servers\":\"Showing your servers\"),r.a.createElement(te.a,{name:\"show_all_servers\",defaultChecked:d,onChange:()=>u((e=>!e))})),g?r.a.createElement(ne.a,{data:g,onPageSelect:i},(e=>{let{items:t}=e;return t.length>0?t.map(((e,t)=>r.a.createElement(se,{key:e.uuid,server:e,$_css:t>0?{marginTop:\"0.5rem\"}:void 0}))):r.a.createElement(me,null,d?\"There are no other servers to display.\":\"There are no servers associated with your account.\")})):r.a.createElement(h.a,{centered:!0,size:\"large\"}),r.a.createElement(ie,null))},le=Object(d.c)(\"div\").withConfig({displayName:\"DashboardContainer___StyledDiv\",componentId:\"sc-1topkxf-0\"})({marginBottom:\"0.5rem\",display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}),oe=Object(d.c)(\"p\").withConfig({displayName:\"DashboardContainer___StyledP\",componentId:\"sc-1topkxf-1\"})({textTransform:\"uppercase\",fontSize:\"0.75rem\",lineHeight:\"1rem\",\"--tw-text-opacity\":\"1\",color:\"hsla(211, 10%, 53%, var(--tw-text-opacity))\",marginRight:\"0.5rem\"}),se=Object(d.c)((e=>{let{server:t,className:a}=e;const i=Object(n.useRef)(null),[c,l]=Object(n.useState)(\"suspended\"===t.status),[s,m]=Object(n.useState)(null),d=()=>(e=>new Promise(((t,a)=>{y.a.get(\"/api/client/servers/\".concat(e,\"/resources\")).then((e=>{let{data:{attributes:a}}=e;return t({status:a.current_state,isSuspended:a.is_suspended,memoryUsageInBytes:a.resources.memory_bytes,cpuUsagePercent:a.resources.cpu_absolute,diskUsageInBytes:a.resources.disk_bytes,networkRxInBytes:a.resources.network_rx_bytes,networkTxInBytes:a.resources.network_tx_bytes,uptime:a.resources.uptime})})).catch(a)})))(t.uuid).then((e=>m(e))).catch((e=>console.error(e)));Object(n.useEffect)((()=>{l((null==s?void 0:s.isSuspended)||\"suspended\"===t.status)}),[null==s?void 0:s.isSuspended,t.status]),Object(n.useEffect)((()=>{if(!c)return d().then((()=>{i.current=setInterval((()=>d()),3e4)})),()=>{i.current&&clearInterval(i.current)}}),[c]);const p={cpu:!1,memory:!1,disk:!1};s&&(p.cpu=0!==t.limits.cpu&&s.cpuUsagePercent>=.9*t.limits.cpu,p.memory=O(s.memoryUsageInBytes,t.limits.memory),p.disk=0!==t.limits.disk&&O(s.diskUsageInBytes,t.limits.disk));const b=0!==t.limits.disk?Object(w.a)(Object(w.c)(t.limits.disk)):\"Unlimited\",f=0!==t.limits.memory?Object(w.a)(Object(w.c)(t.limits.memory)):\"Unlimited\",v=0!==t.limits.cpu?t.limits.cpu+\" %\":\"Unlimited\";return r.a.createElement(I,{as:o.a,to:\"/server/\".concat(t.id),className:a,$status:null==s?void 0:s.status},r.a.createElement(N,null,r.a.createElement(\"div\",{className:\"icon mr-4\"},r.a.createElement(u.a,{icon:g.J})),r.a.createElement(\"div\",null,r.a.createElement(_,null),r.a.createElement(R,null,t.name),r.a.createElement(E,null),!!t.description&&r.a.createElement(\"div\",null,r.a.createElement(S,null),r.a.createElement(D,null,t.description),r.a.createElement(x,null)))),r.a.createElement(F,null,r.a.createElement(P,null,r.a.createElement(z,{icon:g.p}),r.a.createElement(T,null,t.allocations.filter((e=>e.isDefault)).map((e=>r.a.createElement(r.a.Fragment,{key:e.ip+e.port.toString()},e.alias||Object(w.b)(e.ip),\":\",e.port)))))),r.a.createElement(B,null,!s||c?c?r.a.createElement(U,null,r.a.createElement(A,null,\"suspended\"===t.status?\"Suspended\":\"Connection Error\")):t.isTransferring||t.status?r.a.createElement(H,null,r.a.createElement($,null,t.isTransferring?\"Transferring\":\"installing\"===t.status?\"Installing\":\"restoring_backup\"===t.status?\"Restoring Backup\":\"Unavailable\")):r.a.createElement(h.a,{size:\"small\"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null,r.a.createElement(W,null,r.a.createElement(C,{icon:g.F,$alarm:p.cpu}),r.a.createElement(k,{$alarm:p.cpu},s.cpuUsagePercent.toFixed(2),\" %\")),r.a.createElement(J,null,\"of \",v)),r.a.createElement(K,null,r.a.createElement(q,null,r.a.createElement(C,{icon:g.E,$alarm:p.memory}),r.a.createElement(k,{$alarm:p.memory},Object(w.a)(s.memoryUsageInBytes))),r.a.createElement(G,null,\"of \",f)),r.a.createElement(M,null,r.a.createElement(Q,null,r.a.createElement(C,{icon:g.z,$alarm:p.disk}),r.a.createElement(k,{$alarm:p.disk},Object(w.a)(s.diskUsageInBytes))),r.a.createElement(V,null,\"of \",b)),r.a.createElement(j,null))),r.a.createElement(\"div\",{className:\"status-bar\"}))})).withConfig({displayName:\"DashboardContainer___StyledServerRow\",componentId:\"sc-1topkxf-2\"})([\"\",\"\"],(e=>e.$_css)),me=Object(d.c)(\"p\").withConfig({displayName:\"DashboardContainer___StyledP2\",componentId:\"sc-1topkxf-3\"})({textAlign:\"center\",fontSize:\"0.875rem\",lineHeight:\"1.25rem\",\"--tw-text-opacity\":\"1\",color:\"hsla(211, 10%, 53%, var(--tw-text-opacity))\"}),de=a(286),pe=a(271);const ue=()=>{const e=Object(Z.useStoreState)((e=>e.user.data.rootAdmin));return r.a.createElement(r.a.Fragment,null,de.a.account.filter((e=>!!e.name)).map((e=>{let{path:t,name:a,exact:n=!1}=e;return r.a.createElement(o.b,{key:t,to:\"/account/\".concat(t).replace(\"//\",\"/\"),exact:n},a)})),pe.a.account.length>0&&pe.a.account.filter((e=>!!e.name)).filter((t=>!t.adminOnly||e)).map((e=>{let{path:t,name:a,exact:n=!1}=e;return r.a.createElement(o.b,{key:t,to:\"/account/\".concat(t).replace(\"//\",\"/\"),exact:n},a)})))},ge=()=>{const e=Object(l.h)(),t=Object(Z.useStoreState)((e=>e.user.data.rootAdmin));return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(h.a,{centered:!0})},r.a.createElement(o.e,{location:e},r.a.createElement(o.c,{path:\"/\",exact:!0},r.a.createElement(ce,null)),de.a.account.map((e=>{let{path:t,component:a}=e;return r.a.createElement(o.c,{key:t,path:\"/account/\".concat(t).replace(\"//\",\"/\"),exact:!0},r.a.createElement(a,null))})),pe.a.account.length>0&&pe.a.account.filter((e=>!e.adminOnly||t)).map((e=>{let{path:t,component:a}=e;return r.a.createElement(o.c,{key:t,path:\"/account/\".concat(t).replace(\"//\",\"/\"),exact:!0},r.a.createElement(a,null))})),r.a.createElement(o.c,{path:\"*\"},r.a.createElement(s.a,null))))))};var ye=a(272),we=()=>r.a.createElement(r.a.Fragment,null),be=a(273);t.default=()=>{const e=Object(l.h)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null),e.pathname.startsWith(\"/account\")&&r.a.createElement(c.a,{id:\"SubNavigation\"},r.a.createElement(ye.a,null),r.a.createElement(\"div\",null,r.a.createElement(ue,null),r.a.createElement(we,null)),r.a.createElement(be.a,null)),r.a.createElement(ge,null))}}}]);","name":"dashboard.6801b2f1.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[4],{\n\n/***/ 410:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./resources/scripts/components/NavigationBar.tsx + 5 modules\nvar NavigationBar = __webpack_require__(287);\n\n// EXTERNAL MODULE: ./resources/scripts/components/elements/SubNavigation.tsx\nvar SubNavigation = __webpack_require__(256);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 1 modules\nvar react_router = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./resources/scripts/components/elements/ScreenBlock.tsx\nvar ScreenBlock = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./resources/scripts/TransitionRouter.tsx\nvar TransitionRouter = __webpack_require__(257);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./resources/scripts/api/getServers.ts\nvar getServers = __webpack_require__(254);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar index_es = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\nvar free_solid_svg_icons_index_es = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./resources/scripts/api/http.ts\nvar http = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./resources/scripts/api/server/getServerResourceUsage.ts\n\n/* harmony default export */ var getServerResourceUsage = (server => {\n  return new Promise((resolve, reject) => {\n    http[\"a\" /* default */].get(\"/api/client/servers/\".concat(server, \"/resources\")).then(_ref => {\n      let {\n        data: {\n          attributes\n        }\n      } = _ref;\n      return resolve({\n        status: attributes.current_state,\n        isSuspended: attributes.is_suspended,\n        memoryUsageInBytes: attributes.resources.memory_bytes,\n        cpuUsagePercent: attributes.resources.cpu_absolute,\n        diskUsageInBytes: attributes.resources.disk_bytes,\n        networkRxInBytes: attributes.resources.network_rx_bytes,\n        networkTxInBytes: attributes.resources.network_tx_bytes,\n        uptime: attributes.resources.uptime\n      });\n    }).catch(reject);\n  });\n});\n// EXTERNAL MODULE: ./resources/scripts/lib/formatters.ts\nvar formatters = __webpack_require__(176);\n\n// EXTERNAL MODULE: ./resources/scripts/components/elements/GreyRowBox.tsx\nvar GreyRowBox = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./resources/scripts/components/elements/Spinner.tsx\nvar Spinner = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/react-fast-compare/index.js\nvar react_fast_compare = __webpack_require__(34);\nvar react_fast_compare_default = /*#__PURE__*/__webpack_require__.n(react_fast_compare);\n\n// CONCATENATED MODULE: ./resources/scripts/blueprint/components/Dashboard/ServerRow/BeforeEntryName.tsx\n\n/* blueprint/import */\n\n/* harmony default export */ var BeforeEntryName = (() => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n});\n// CONCATENATED MODULE: ./resources/scripts/blueprint/components/Dashboard/ServerRow/AfterEntryName.tsx\n\n/* blueprint/import */\n\n/* harmony default export */ var AfterEntryName = (() => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n});\n// CONCATENATED MODULE: ./resources/scripts/blueprint/components/Dashboard/ServerRow/BeforeEntryDescription.tsx\n\n/* blueprint/import */\n\n/* harmony default export */ var BeforeEntryDescription = (() => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n});\n// CONCATENATED MODULE: ./resources/scripts/blueprint/components/Dashboard/ServerRow/AfterEntryDescription.tsx\n\n/* blueprint/import */\n\n/* harmony default export */ var AfterEntryDescription = (() => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n});\n// CONCATENATED MODULE: ./resources/scripts/blueprint/components/Dashboard/ServerRow/ResourceLimits.tsx\n\n/* blueprint/import */\n\n/* harmony default export */ var ResourceLimits = (() => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n});\n// CONCATENATED MODULE: ./resources/scripts/components/dashboard/ServerRow.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // Determines if the current value is in an alarm threshold so we can show it in red rather\n// than the more faded default style.\n\nconst isAlarmState = (current, limit) => limit > 0 && current / (limit * 1024 * 1024) >= 0.9;\n\nconst Icon = /*#__PURE__*/Object(react[\"memo\"])(Object(styled_components_browser_esm[\"c\" /* default */])(index_es[\"a\" /* FontAwesomeIcon */]).withConfig({\n  displayName: \"ServerRow__Icon\",\n  componentId: \"sc-1ibsw91-0\"\n})([\"\", \";\"], props => props.$alarm ? {\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(248, 113, 113, var(--tw-text-opacity))\"\n} : {\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(211, 12%, 43%, var(--tw-text-opacity))\"\n}), react_fast_compare_default.a);\n\nconst IconDescription = /*#__PURE__*/styled_components_browser_esm[\"c\" /* default */].p.withConfig({\n  displayName: \"ServerRow__IconDescription\",\n  componentId: \"sc-1ibsw91-1\"\n})([\"\", \";\", \";\"], {\n  \"fontSize\": \"0.875rem\",\n  \"lineHeight\": \"1.25rem\",\n  \"marginLeft\": \"0.5rem\"\n}, props => props.$alarm ? {\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(255, 255, 255, var(--tw-text-opacity))\"\n} : {\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(211, 10%, 53%, var(--tw-text-opacity))\"\n});\n\nconst StatusIndicatorBox = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(GreyRowBox[\"a\" /* default */]).withConfig({\n  displayName: \"ServerRow__StatusIndicatorBox\",\n  componentId: \"sc-1ibsw91-2\"\n})([\"\", \";& .status-bar{\", \";height:calc(100% - 0.5rem);\", \";}&:hover .status-bar{\", \";}\"], {\n  \"display\": \"grid\",\n  \"gridTemplateColumns\": \"repeat(12, minmax(0, 1fr))\",\n  \"gap\": \"1rem\",\n  \"position\": \"relative\"\n}, {\n  \"width\": \"0.5rem\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(239, 68, 68, var(--tw-bg-opacity))\",\n  \"position\": \"absolute\",\n  \"right\": \"0px\",\n  \"zIndex\": \"20\",\n  \"borderRadius\": \"9999px\",\n  \"margin\": \"0.25rem\",\n  \"opacity\": \"0.5\",\n  \"transitionProperty\": \"all\",\n  \"transitionTimingFunction\": \"cubic-bezier(0.4, 0, 0.2, 1)\",\n  \"transitionDuration\": \"150ms\"\n}, _ref => {\n  let {\n    $status\n  } = _ref;\n  return !$status || $status === 'offline' ? {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(239, 68, 68, var(--tw-bg-opacity))\"\n  } : $status === 'running' ? {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(16, 185, 129, var(--tw-bg-opacity))\"\n  } : {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(245, 158, 11, var(--tw-bg-opacity))\"\n  };\n}, {\n  \"opacity\": \"0.75\"\n});\n\n/* harmony default export */ var ServerRow = (_ref2 => {\n  let {\n    server,\n    className\n  } = _ref2;\n  const interval = Object(react[\"useRef\"])(null);\n  const [isSuspended, setIsSuspended] = Object(react[\"useState\"])(server.status === 'suspended');\n  const [stats, setStats] = Object(react[\"useState\"])(null);\n\n  const getStats = () => getServerResourceUsage(server.uuid).then(data => setStats(data)).catch(error => console.error(error));\n\n  Object(react[\"useEffect\"])(() => {\n    setIsSuspended((stats === null || stats === void 0 ? void 0 : stats.isSuspended) || server.status === 'suspended');\n  }, [stats === null || stats === void 0 ? void 0 : stats.isSuspended, server.status]);\n  Object(react[\"useEffect\"])(() => {\n    // Don't waste a HTTP request if there is nothing important to show to the user because\n    // the server is suspended.\n    if (isSuspended) return;\n    getStats().then(() => {\n      interval.current = setInterval(() => getStats(), 30000);\n    });\n    return () => {\n      interval.current && clearInterval(interval.current);\n    };\n  }, [isSuspended]);\n  const alarms = {\n    cpu: false,\n    memory: false,\n    disk: false\n  };\n\n  if (stats) {\n    alarms.cpu = server.limits.cpu === 0 ? false : stats.cpuUsagePercent >= server.limits.cpu * 0.9;\n    alarms.memory = isAlarmState(stats.memoryUsageInBytes, server.limits.memory);\n    alarms.disk = server.limits.disk === 0 ? false : isAlarmState(stats.diskUsageInBytes, server.limits.disk);\n  }\n\n  const diskLimit = server.limits.disk !== 0 ? Object(formatters[\"a\" /* bytesToString */])(Object(formatters[\"c\" /* mbToBytes */])(server.limits.disk)) : 'Unlimited';\n  const memoryLimit = server.limits.memory !== 0 ? Object(formatters[\"a\" /* bytesToString */])(Object(formatters[\"c\" /* mbToBytes */])(server.limits.memory)) : 'Unlimited';\n  const cpuLimit = server.limits.cpu !== 0 ? server.limits.cpu + ' %' : 'Unlimited';\n  return /*#__PURE__*/react_default.a.createElement(StatusIndicatorBox, {\n    as: react_router_dom[\"a\" /* Link */],\n    to: \"/server/\".concat(server.id),\n    className: className,\n    $status: stats === null || stats === void 0 ? void 0 : stats.status\n  }, /*#__PURE__*/react_default.a.createElement(_StyledDiv, null, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: 'icon mr-4'\n  }, /*#__PURE__*/react_default.a.createElement(index_es[\"a\" /* FontAwesomeIcon */], {\n    icon: free_solid_svg_icons_index_es[\"J\" /* faServer */]\n  })), /*#__PURE__*/react_default.a.createElement(\"div\", null, /*#__PURE__*/react_default.a.createElement(BeforeEntryName, null), /*#__PURE__*/react_default.a.createElement(_StyledP, null, server.name), /*#__PURE__*/react_default.a.createElement(AfterEntryName, null), !!server.description && /*#__PURE__*/react_default.a.createElement(\"div\", null, /*#__PURE__*/react_default.a.createElement(BeforeEntryDescription, null), /*#__PURE__*/react_default.a.createElement(_StyledP2, null, server.description), /*#__PURE__*/react_default.a.createElement(AfterEntryDescription, null)))), /*#__PURE__*/react_default.a.createElement(_StyledDiv2, null, /*#__PURE__*/react_default.a.createElement(_StyledDiv3, null, /*#__PURE__*/react_default.a.createElement(_StyledFontAwesomeIcon, {\n    icon: free_solid_svg_icons_index_es[\"p\" /* faEthernet */]\n  }), /*#__PURE__*/react_default.a.createElement(_StyledP3, null, server.allocations.filter(alloc => alloc.isDefault).map(allocation => /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, {\n    key: allocation.ip + allocation.port.toString()\n  }, allocation.alias || Object(formatters[\"b\" /* ip */])(allocation.ip), \":\", allocation.port))))), /*#__PURE__*/react_default.a.createElement(_StyledDiv4, null, !stats || isSuspended ? isSuspended ? /*#__PURE__*/react_default.a.createElement(_StyledDiv5, null, /*#__PURE__*/react_default.a.createElement(_StyledSpan, null, server.status === 'suspended' ? 'Suspended' : 'Connection Error')) : server.isTransferring || server.status ? /*#__PURE__*/react_default.a.createElement(_StyledDiv6, null, /*#__PURE__*/react_default.a.createElement(_StyledSpan2, null, server.isTransferring ? 'Transferring' : server.status === 'installing' ? 'Installing' : server.status === 'restoring_backup' ? 'Restoring Backup' : 'Unavailable')) : /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], {\n    size: 'small'\n  }) : /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(_StyledDiv7, null, /*#__PURE__*/react_default.a.createElement(_StyledDiv8, null, /*#__PURE__*/react_default.a.createElement(Icon, {\n    icon: free_solid_svg_icons_index_es[\"F\" /* faMicrochip */],\n    $alarm: alarms.cpu\n  }), /*#__PURE__*/react_default.a.createElement(IconDescription, {\n    $alarm: alarms.cpu\n  }, stats.cpuUsagePercent.toFixed(2), \" %\")), /*#__PURE__*/react_default.a.createElement(_StyledP4, null, \"of \", cpuLimit)), /*#__PURE__*/react_default.a.createElement(_StyledDiv9, null, /*#__PURE__*/react_default.a.createElement(_StyledDiv10, null, /*#__PURE__*/react_default.a.createElement(Icon, {\n    icon: free_solid_svg_icons_index_es[\"E\" /* faMemory */],\n    $alarm: alarms.memory\n  }), /*#__PURE__*/react_default.a.createElement(IconDescription, {\n    $alarm: alarms.memory\n  }, Object(formatters[\"a\" /* bytesToString */])(stats.memoryUsageInBytes))), /*#__PURE__*/react_default.a.createElement(_StyledP5, null, \"of \", memoryLimit)), /*#__PURE__*/react_default.a.createElement(_StyledDiv11, null, /*#__PURE__*/react_default.a.createElement(_StyledDiv12, null, /*#__PURE__*/react_default.a.createElement(Icon, {\n    icon: free_solid_svg_icons_index_es[\"z\" /* faHdd */],\n    $alarm: alarms.disk\n  }), /*#__PURE__*/react_default.a.createElement(IconDescription, {\n    $alarm: alarms.disk\n  }, Object(formatters[\"a\" /* bytesToString */])(stats.diskUsageInBytes))), /*#__PURE__*/react_default.a.createElement(_StyledP6, null, \"of \", diskLimit)), /*#__PURE__*/react_default.a.createElement(ResourceLimits, null))), /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: 'status-bar'\n  }));\n});\n\nvar _StyledDiv = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv\",\n  componentId: \"sc-1ibsw91-3\"\n})({\n  \"gridColumn\": \"span 12 / span 12\",\n  \"display\": \"flex\",\n  \"alignItems\": \"center\",\n  \"@media (min-width: 640px)\": {\n    \"gridColumn\": \"span 5 / span 5\"\n  },\n  \"@media (min-width: 1024px)\": {\n    \"gridColumn\": \"span 6 / span 6\"\n  }\n});\n\nvar _StyledP = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"p\").withConfig({\n  displayName: \"ServerRow___StyledP\",\n  componentId: \"sc-1ibsw91-4\"\n})({\n  \"fontSize\": \"1.125rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"overflowWrap\": \"break-word\"\n});\n\nvar _StyledP2 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"p\").withConfig({\n  displayName: \"ServerRow___StyledP2\",\n  componentId: \"sc-1ibsw91-5\"\n})({\n  \"fontSize\": \"0.875rem\",\n  \"lineHeight\": \"1.25rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(211, 13%, 65%, var(--tw-text-opacity))\",\n  \"overflowWrap\": \"break-word\",\n  \"overflow\": \"hidden\",\n  \"display\": \"-webkit-box\",\n  \"WebkitBoxOrient\": \"vertical\",\n  \"WebkitLineClamp\": \"2\"\n});\n\nvar _StyledDiv2 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv2\",\n  componentId: \"sc-1ibsw91-6\"\n})({\n  \"flex\": \"1 1 0%\",\n  \"marginLeft\": \"1rem\",\n  \"display\": \"none\",\n  \"@media (min-width: 1024px)\": {\n    \"gridColumn\": \"span 2 / span 2\",\n    \"display\": \"block\"\n  }\n});\n\nvar _StyledDiv3 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv3\",\n  componentId: \"sc-1ibsw91-7\"\n})({\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\"\n});\n\nvar _StyledFontAwesomeIcon = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(index_es[\"a\" /* FontAwesomeIcon */]).withConfig({\n  displayName: \"ServerRow___StyledFontAwesomeIcon\",\n  componentId: \"sc-1ibsw91-8\"\n})({\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(211, 12%, 43%, var(--tw-text-opacity))\"\n});\n\nvar _StyledP3 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"p\").withConfig({\n  displayName: \"ServerRow___StyledP3\",\n  componentId: \"sc-1ibsw91-9\"\n})({\n  \"fontSize\": \"0.875rem\",\n  \"lineHeight\": \"1.25rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(211, 10%, 53%, var(--tw-text-opacity))\",\n  \"marginLeft\": \"0.5rem\"\n});\n\nvar _StyledDiv4 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv4\",\n  componentId: \"sc-1ibsw91-10\"\n})({\n  \"gridColumn\": \"span 7 / span 7\",\n  \"display\": \"none\",\n  \"alignItems\": \"baseline\",\n  \"justifyContent\": \"center\",\n  \"@media (min-width: 640px)\": {\n    \"display\": \"flex\"\n  },\n  \"@media (min-width: 1024px)\": {\n    \"gridColumn\": \"span 4 / span 4\"\n  }\n});\n\nvar _StyledDiv5 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv5\",\n  componentId: \"sc-1ibsw91-11\"\n})({\n  \"flex\": \"1 1 0%\",\n  \"textAlign\": \"center\"\n});\n\nvar _StyledSpan = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"span\").withConfig({\n  displayName: \"ServerRow___StyledSpan\",\n  componentId: \"sc-1ibsw91-12\"\n})({\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(239, 68, 68, var(--tw-bg-opacity))\",\n  \"borderRadius\": \"0.25rem\",\n  \"paddingLeft\": \"0.5rem\",\n  \"paddingRight\": \"0.5rem\",\n  \"paddingTop\": \"0.25rem\",\n  \"paddingBottom\": \"0.25rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(254, 226, 226, var(--tw-text-opacity))\",\n  \"fontSize\": \"0.75rem\",\n  \"lineHeight\": \"1rem\"\n});\n\nvar _StyledDiv6 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv6\",\n  componentId: \"sc-1ibsw91-13\"\n})({\n  \"flex\": \"1 1 0%\",\n  \"textAlign\": \"center\"\n});\n\nvar _StyledSpan2 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"span\").withConfig({\n  displayName: \"ServerRow___StyledSpan2\",\n  componentId: \"sc-1ibsw91-14\"\n})({\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"hsla(211, 12%, 43%, var(--tw-bg-opacity))\",\n  \"borderRadius\": \"0.25rem\",\n  \"paddingLeft\": \"0.5rem\",\n  \"paddingRight\": \"0.5rem\",\n  \"paddingTop\": \"0.25rem\",\n  \"paddingBottom\": \"0.25rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(214, 15%, 91%, var(--tw-text-opacity))\",\n  \"fontSize\": \"0.75rem\",\n  \"lineHeight\": \"1rem\"\n});\n\nvar _StyledDiv7 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv7\",\n  componentId: \"sc-1ibsw91-15\"\n})({\n  \"flex\": \"1 1 0%\",\n  \"marginLeft\": \"1rem\",\n  \"display\": \"none\",\n  \"@media (min-width: 640px)\": {\n    \"display\": \"block\"\n  }\n});\n\nvar _StyledDiv8 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv8\",\n  componentId: \"sc-1ibsw91-16\"\n})({\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\"\n});\n\nvar _StyledP4 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"p\").withConfig({\n  displayName: \"ServerRow___StyledP4\",\n  componentId: \"sc-1ibsw91-17\"\n})({\n  \"fontSize\": \"0.75rem\",\n  \"lineHeight\": \"1rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(209, 14%, 37%, var(--tw-text-opacity))\",\n  \"textAlign\": \"center\",\n  \"marginTop\": \"0.25rem\"\n});\n\nvar _StyledDiv9 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv9\",\n  componentId: \"sc-1ibsw91-18\"\n})({\n  \"flex\": \"1 1 0%\",\n  \"marginLeft\": \"1rem\",\n  \"display\": \"none\",\n  \"@media (min-width: 640px)\": {\n    \"display\": \"block\"\n  }\n});\n\nvar _StyledDiv10 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv10\",\n  componentId: \"sc-1ibsw91-19\"\n})({\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\"\n});\n\nvar _StyledP5 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"p\").withConfig({\n  displayName: \"ServerRow___StyledP5\",\n  componentId: \"sc-1ibsw91-20\"\n})({\n  \"fontSize\": \"0.75rem\",\n  \"lineHeight\": \"1rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(209, 14%, 37%, var(--tw-text-opacity))\",\n  \"textAlign\": \"center\",\n  \"marginTop\": \"0.25rem\"\n});\n\nvar _StyledDiv11 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv11\",\n  componentId: \"sc-1ibsw91-21\"\n})({\n  \"flex\": \"1 1 0%\",\n  \"marginLeft\": \"1rem\",\n  \"display\": \"none\",\n  \"@media (min-width: 640px)\": {\n    \"display\": \"block\"\n  }\n});\n\nvar _StyledDiv12 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"ServerRow___StyledDiv12\",\n  componentId: \"sc-1ibsw91-22\"\n})({\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\"\n});\n\nvar _StyledP6 = /*#__PURE__*/Object(styled_components_browser_esm[\"c\" /* default */])(\"p\").withConfig({\n  displayName: \"ServerRow___StyledP6\",\n  componentId: \"sc-1ibsw91-23\"\n})({\n  \"fontSize\": \"0.75rem\",\n  \"lineHeight\": \"1rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(209, 14%, 37%, var(--tw-text-opacity))\",\n  \"textAlign\": \"center\",\n  \"marginTop\": \"0.25rem\"\n});\n// EXTERNAL MODULE: ./resources/scripts/components/elements/PageContentBlock.tsx\nvar PageContentBlock = __webpack_require__(58);\n\n// EXTERNAL MODULE: ./resources/scripts/plugins/useFlash.ts\nvar useFlash = __webpack_require__(154);\n\n// EXTERNAL MODULE: ./node_modules/easy-peasy/dist/easy-peasy.js\nvar easy_peasy = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./resources/scripts/plugins/usePersistedState.ts\nvar usePersistedState = __webpack_require__(258);\n\n// EXTERNAL MODULE: ./resources/scripts/components/elements/Switch.tsx\nvar Switch = __webpack_require__(205);\n\n// EXTERNAL MODULE: ./node_modules/swr/esm/index.js + 9 modules\nvar esm = __webpack_require__(175);\n\n// EXTERNAL MODULE: ./resources/scripts/components/elements/Pagination.tsx\nvar Pagination = __webpack_require__(259);\n\n// CONCATENATED MODULE: ./resources/scripts/blueprint/components/Dashboard/BeforeContent.tsx\n\n/* blueprint/import */\n\n/* harmony default export */ var BeforeContent = (() => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n});\n// CONCATENATED MODULE: ./resources/scripts/blueprint/components/Dashboard/AfterContent.tsx\n\n/* blueprint/import */\n\n/* harmony default export */ var AfterContent = (() => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n});\n// CONCATENATED MODULE: ./resources/scripts/components/dashboard/DashboardContainer.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var DashboardContainer = (() => {\n  const {\n    search\n  } = Object(react_router_dom[\"g\" /* useLocation */])();\n  const defaultPage = Number(new URLSearchParams(search).get('page') || '1');\n  const [page, setPage] = Object(react[\"useState\"])(!isNaN(defaultPage) && defaultPage > 0 ? defaultPage : 1);\n  const {\n    clearFlashes,\n    clearAndAddHttpError\n  } = Object(useFlash[\"a\" /* default */])();\n  const uuid = Object(easy_peasy[\"useStoreState\"])(state => state.user.data.uuid);\n  const rootAdmin = Object(easy_peasy[\"useStoreState\"])(state => state.user.data.rootAdmin);\n  const [showOnlyAdmin, setShowOnlyAdmin] = Object(usePersistedState[\"a\" /* usePersistedState */])(\"\".concat(uuid, \":show_all_servers\"), false);\n  const {\n    data: servers,\n    error\n  } = Object(esm[\"a\" /* default */])(['/api/client/servers', showOnlyAdmin && rootAdmin, page], () => Object(getServers[\"a\" /* default */])({\n    page,\n    type: showOnlyAdmin && rootAdmin ? 'admin' : undefined\n  }));\n  Object(react[\"useEffect\"])(() => {\n    if (!servers) return;\n\n    if (servers.pagination.currentPage > 1 && !servers.items.length) {\n      setPage(1);\n    }\n  }, [servers === null || servers === void 0 ? void 0 : servers.pagination.currentPage]);\n  Object(react[\"useEffect\"])(() => {\n    // Don't use react-router to handle changing this part of the URL, otherwise it\n    // triggers a needless re-render. We just want to track this in the URL incase the\n    // user refreshes the page.\n    window.history.replaceState(null, document.title, \"/\".concat(page <= 1 ? '' : \"?page=\".concat(page)));\n  }, [page]);\n  Object(react[\"useEffect\"])(() => {\n    if (error) clearAndAddHttpError({\n      key: 'dashboard',\n      error\n    });\n    if (!error) clearFlashes('dashboard');\n  }, [error]);\n  return /*#__PURE__*/react_default.a.createElement(PageContentBlock[\"a\" /* default */], {\n    title: 'Dashboard',\n    showFlashKey: 'dashboard'\n  }, /*#__PURE__*/react_default.a.createElement(BeforeContent, null), rootAdmin && /*#__PURE__*/react_default.a.createElement(DashboardContainer_StyledDiv, null, /*#__PURE__*/react_default.a.createElement(DashboardContainer_StyledP, null, showOnlyAdmin ? \"Showing others' servers\" : 'Showing your servers'), /*#__PURE__*/react_default.a.createElement(Switch[\"a\" /* default */], {\n    name: 'show_all_servers',\n    defaultChecked: showOnlyAdmin,\n    onChange: () => setShowOnlyAdmin(s => !s)\n  })), !servers ? /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], {\n    centered: true,\n    size: 'large'\n  }) : /*#__PURE__*/react_default.a.createElement(Pagination[\"a\" /* default */], {\n    data: servers,\n    onPageSelect: setPage\n  }, _ref => {\n    let {\n      items\n    } = _ref;\n    return items.length > 0 ? items.map((server, index) => /*#__PURE__*/react_default.a.createElement(_StyledServerRow, {\n      key: server.uuid,\n      server: server,\n      $_css: index > 0 ? {\n        \"marginTop\": \"0.5rem\"\n      } : undefined\n    })) : /*#__PURE__*/react_default.a.createElement(DashboardContainer_StyledP2, null, showOnlyAdmin ? 'There are no other servers to display.' : 'There are no servers associated with your account.');\n  }), /*#__PURE__*/react_default.a.createElement(AfterContent, null));\n});\n\nvar DashboardContainer_StyledDiv = Object(styled_components_browser_esm[\"c\" /* default */])(\"div\").withConfig({\n  displayName: \"DashboardContainer___StyledDiv\",\n  componentId: \"sc-1topkxf-0\"\n})({\n  \"marginBottom\": \"0.5rem\",\n  \"display\": \"flex\",\n  \"justifyContent\": \"flex-end\",\n  \"alignItems\": \"center\"\n});\n\nvar DashboardContainer_StyledP = Object(styled_components_browser_esm[\"c\" /* default */])(\"p\").withConfig({\n  displayName: \"DashboardContainer___StyledP\",\n  componentId: \"sc-1topkxf-1\"\n})({\n  \"textTransform\": \"uppercase\",\n  \"fontSize\": \"0.75rem\",\n  \"lineHeight\": \"1rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(211, 10%, 53%, var(--tw-text-opacity))\",\n  \"marginRight\": \"0.5rem\"\n});\n\nvar _StyledServerRow = Object(styled_components_browser_esm[\"c\" /* default */])(ServerRow).withConfig({\n  displayName: \"DashboardContainer___StyledServerRow\",\n  componentId: \"sc-1topkxf-2\"\n})([\"\", \"\"], p => p.$_css);\n\nvar DashboardContainer_StyledP2 = Object(styled_components_browser_esm[\"c\" /* default */])(\"p\").withConfig({\n  displayName: \"DashboardContainer___StyledP2\",\n  componentId: \"sc-1topkxf-3\"\n})({\n  \"textAlign\": \"center\",\n  \"fontSize\": \"0.875rem\",\n  \"lineHeight\": \"1.25rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"hsla(211, 10%, 53%, var(--tw-text-opacity))\"\n});\n// EXTERNAL MODULE: ./resources/scripts/routers/routes.ts + 158 modules\nvar routes = __webpack_require__(286);\n\n// EXTERNAL MODULE: ./resources/scripts/blueprint/extends/routers/routes.ts\nvar routers_routes = __webpack_require__(271);\n\n// CONCATENATED MODULE: ./resources/scripts/blueprint/extends/routers/DashboardRouter.tsx\n\n\n\n\n\n\n\n\n\n\nconst NavigationLinks = () => {\n  const rootAdmin = Object(easy_peasy[\"useStoreState\"])(state => state.user.data.rootAdmin);\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, routes[\"a\" /* default */].account.filter(route => !!route.name).map(_ref => {\n    let {\n      path,\n      name,\n      exact = false\n    } = _ref;\n    return /*#__PURE__*/react_default.a.createElement(react_router_dom[\"b\" /* NavLink */], {\n      key: path,\n      to: \"/account/\".concat(path).replace('//', '/'),\n      exact: exact\n    }, name);\n  }), routers_routes[\"a\" /* default */].account.length > 0 && routers_routes[\"a\" /* default */].account.filter(route => !!route.name).filter(route => route.adminOnly ? rootAdmin : true).map(_ref2 => {\n    let {\n      path,\n      name,\n      exact = false\n    } = _ref2;\n    return /*#__PURE__*/react_default.a.createElement(react_router_dom[\"b\" /* NavLink */], {\n      key: path,\n      to: \"/account/\".concat(path).replace('//', '/'),\n      exact: exact\n    }, name);\n  }));\n};\nconst NavigationRouter = () => {\n  const location = Object(react_router[\"h\" /* useLocation */])();\n  const rootAdmin = Object(easy_peasy[\"useStoreState\"])(state => state.user.data.rootAdmin);\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(TransitionRouter[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(react_default.a.Suspense, {\n    fallback: /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], {\n      centered: true\n    })\n  }, /*#__PURE__*/react_default.a.createElement(react_router_dom[\"e\" /* Switch */], {\n    location: location\n  }, /*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* Route */], {\n    path: '/',\n    exact: true\n  }, /*#__PURE__*/react_default.a.createElement(DashboardContainer, null)), routes[\"a\" /* default */].account.map(_ref3 => {\n    let {\n      path,\n      component: Component\n    } = _ref3;\n    return /*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* Route */], {\n      key: path,\n      path: \"/account/\".concat(path).replace('//', '/'),\n      exact: true\n    }, /*#__PURE__*/react_default.a.createElement(Component, null));\n  }), routers_routes[\"a\" /* default */].account.length > 0 && routers_routes[\"a\" /* default */].account.filter(route => route.adminOnly ? rootAdmin : true).map(_ref4 => {\n    let {\n      path,\n      component: Component\n    } = _ref4;\n    return /*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* Route */], {\n      key: path,\n      path: \"/account/\".concat(path).replace('//', '/'),\n      exact: true\n    }, /*#__PURE__*/react_default.a.createElement(Component, null));\n  }), /*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* Route */], {\n    path: '*'\n  }, /*#__PURE__*/react_default.a.createElement(ScreenBlock[\"a\" /* NotFound */], null))))));\n};\n// EXTERNAL MODULE: ./resources/scripts/blueprint/components/Navigation/SubNavigation/BeforeSubNavigation.tsx\nvar BeforeSubNavigation = __webpack_require__(272);\n\n// CONCATENATED MODULE: ./resources/scripts/blueprint/components/Navigation/SubNavigation/AdditionalAccountItems.tsx\n\n/* blueprint/import */\n\n/* harmony default export */ var AdditionalAccountItems = (() => {\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n});\n// EXTERNAL MODULE: ./resources/scripts/blueprint/components/Navigation/SubNavigation/AfterSubNavigation.tsx\nvar AfterSubNavigation = __webpack_require__(273);\n\n// CONCATENATED MODULE: ./resources/scripts/routers/DashboardRouter.tsx\n\n\n\n\n\n\n\n\n/* harmony default export */ var DashboardRouter = __webpack_exports__[\"default\"] = (() => {\n  const location = Object(react_router[\"h\" /* useLocation */])();\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(NavigationBar[\"a\" /* default */], null), location.pathname.startsWith('/account') && /*#__PURE__*/react_default.a.createElement(SubNavigation[\"a\" /* default */], {\n    id: 'SubNavigation'\n  }, /*#__PURE__*/react_default.a.createElement(BeforeSubNavigation[\"a\" /* default */], null), /*#__PURE__*/react_default.a.createElement(\"div\", null, /*#__PURE__*/react_default.a.createElement(NavigationLinks, null), /*#__PURE__*/react_default.a.createElement(AdditionalAccountItems, null)), /*#__PURE__*/react_default.a.createElement(AfterSubNavigation[\"a\" /* default */], null)), /*#__PURE__*/react_default.a.createElement(NavigationRouter, null));\n});\n\n/***/ })\n\n}]);","inputSourceMap":null}