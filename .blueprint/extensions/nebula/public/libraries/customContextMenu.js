async function showContextMenu(e,t,n){function o(e){"unset"!=e.style.width&&null!=e.style.width?e.style.width=e.querySelector(".context-wrapper").scrollWidth+"px":e.style.width="unset",e.style.boxShadow="unset"}function l(e,t){"more"==t?(e.style.width=e.querySelector(".context-wrapper").clientWidth+"px",e.style.height=e.querySelector(".context-wrapper").clientHeight+"px"):(e.style.width=e.querySelector(".context-wrapper").scrollWidth+"px",e.style.height=e.querySelector(".context-wrapper").scrollHeight+"px"),e.style.boxShadow="var(--box-shadow)"}if(e.preventDefault(),contextMenu=void 0,null==n||"sidebar"==n){if(1==window.NebulaSidebarContextBlock)return;window.NebulaSidebarCloseBlock=!0,o(contextMenu=document.getElementById("nebulaContextMenu"))}if("more"==n){if(1==window.NebulaMoreContextBlock)return;window.NebulaMoreCloseBlock=!0,o(contextMenu=document.getElementById("moreContextMenu"))}if("files"==n){if(1==window.NebulaFilesContextBlock)return;window.NebulaFilesCloseBlock=!0,o(contextMenu=document.getElementById("filesContextMenu"))}await hideContextMenu("sidebar"),await hideContextMenu("files"),window.NebulaContextActive=!0,offsetX=0,offsetY=0,"files"==n&&(offsetX=-150,offsetY=0);var u=window.scrollX||window.pageXOffset,c=window.scrollY||window.pageYOffset;let i=e.clientX+u+offsetX,s=e.clientY+c+offsetY;if("more"!=n&&(contextMenu.style.top=s+"px"),contextMenu.style.display="block",contextMenu.style.minWidth="unset",null==n||"sidebar"==n){contextMenu.style.left=i+"px";var u=document.getElementById("nebulaContextButton"),c=document.getElementById("nebulaContextButton2"),d=document.getElementById("nebulaContextButton3");u.onclick=function(){window.open(t)},c.onclick=function(){copy(window.location.protocol+"//"+window.location.hostname+t),hideContextMenu()},d.onclick=function(){MultitaskingOpen(t)},t.startsWith("/admin")?d.style.display="none":d.style.display="block",l(contextMenu,n),window.NebulaSidebarCloseBlock=!1}else if("more"==n)contextMenu.style.left=i+"px",document.querySelectorAll(".SubNavigation-sc-lfuaoi-0 div a").forEach(t=>{var e;["","Account","API Credentials","SSH Keys","Console","Files","Databases","Schedules","Users","Backups","Network","Startup","Settings","Activity"].includes(t.textContent)||((e=document.createElement("button")).classList="context-button",e.onclick=function(e){t.click()},e.innerText=t.innerText,e.display="none",contextMenu.querySelector(".context-wrapper").appendChild(e))}),200<contextMenu.querySelector(".context-wrapper").scrollHeight?contextMenu.style.top=s-200+"px":contextMenu.style.top=s-contextMenu.querySelector(".context-wrapper").scrollHeight+"px",l(contextMenu,n),window.NebulaMoreCloseBlock=!1;else if("files"==n){contextMenu.style.left=i+"px";const r=contextMenu.querySelector(".context-wrapper .item-loader"),y=document.getElementById("filesContextButton"),a=document.getElementById("filesContextButton2"),p=document.getElementById("filesContextButton3"),m=document.getElementById("filesContextButton4"),x=document.getElementById("filesContextButton5"),S=document.getElementById("filesContextButton6"),f=document.getElementById("filesContextButton7"),w=document.getElementById("filesContextButton8"),_=document.getElementById("filesContextButton9"),B=document.getElementById("filesContextButton10"),C=document.getElementById("filesContextButton11");r.style.display="block",y.style.display="none",a.style.display="none",p.style.display="none",m.style.display="none",x.style.display="none",S.style.display="none",f.style.display="none",w.style.display="none",_.style.display="none",B.style.display="none",C.style.display="none",document.querySelector("#filesContextButton + br").style.display="none",document.querySelector("#filesContextButton2 + br").style.display="none",document.querySelector("#filesContextButton3 + br").style.display="none",document.querySelector("#filesContextButton4 + br").style.display="none",document.querySelector("#filesContextButton5 + br").style.display="none",document.querySelector("#filesContextButton6 + br").style.display="none",document.querySelector("#filesContextButton7 + br").style.display="none",document.querySelector("#filesContextButton8 + br").style.display="none",document.querySelector("#filesContextButton9 + br").style.display="none",document.querySelector("#filesContextButton10 + br").style.display="none",document.querySelector("#filesContextButton11 + br").style.display="none",y.onclick=function(e){selectDropdown("rename",e)},a.onclick=function(e){selectDropdown("move",e)},p.onclick=function(e){selectDropdown("permissions",e)},m.onclick=function(e){selectDropdown("copy",e)},x.onclick=function(e){selectDropdown("archive",e)},S.onclick=function(e){selectDropdown("unarchive",e)},f.onclick=function(e){selectDropdown("download",e)},w.onclick=function(e){selectDropdown("delete",e)},_.onclick=function(e){selectDropdown("restore",e)},B.onclick=function(e){selectDropdown("lock",e)},C.onclick=function(e){selectDropdown("unlock",e)},l(contextMenu,n),setTimeout(()=>{contextMenu.style.left=i+"px",anyButton=!1,null===document.querySelector(".fa-pencil-alt + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2")?(y.style.display="none",document.querySelector("#filesContextButton + br").style.display="none"):(y.style.display="inline",document.querySelector("#filesContextButton + br").style.display="inline",anyButton=!0),null===document.querySelector(".fa-level-up-alt + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2")?(a.style.display="none",document.querySelector("#filesContextButton2 + br").style.display="none"):(a.style.display="inline",document.querySelector("#filesContextButton2 + br").style.display="inline",anyButton=!0),null===document.querySelector(".fa-file-code + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2")?(p.style.display="none",document.querySelector("#filesContextButton3 + br").style.display="none"):(p.style.display="inline",document.querySelector("#filesContextButton3 + br").style.display="inline",anyButton=!0),null===document.querySelector(".fa-copy + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2")?(m.style.display="none",document.querySelector("#filesContextButton4 + br").style.display="none"):(m.style.display="inline",document.querySelector("#filesContextButton4 + br").style.display="inline",anyButton=!0),null===document.querySelector(".fa-file-archive + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2")?(x.style.display="none",document.querySelector("#filesContextButton5 + br").style.display="none"):(x.style.display="inline",document.querySelector("#filesContextButton5 + br").style.display="inline",anyButton=!0),null===document.querySelector(".fa-box-open + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2")?(S.style.display="none",document.querySelector("#filesContextButton6 + br").style.display="none"):(S.style.display="inline",document.querySelector("#filesContextButton6 + br").style.display="inline",anyButton=!0),null===document.querySelector(".fa-file-download + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2")&&null===document.querySelector(".fa-cloud-download-alt + span.BackupContextMenu___StyledSpan-sc-1p494ba-6")?(f.style.display="none",document.querySelector("#filesContextButton7 + br").style.display="none"):(f.style.display="inline",document.querySelector("#filesContextButton7 + br").style.display="inline",anyButton=!0),null===document.querySelector(".fa-trash-alt + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2")&&null===document.querySelector(".fa-trash-alt + span.BackupContextMenu___StyledSpan3-sc-1p494ba-11")?(w.style.display="none",document.querySelector("#filesContextButton8 + br").style.display="none"):(w.style.display="inline",document.querySelector("#filesContextButton8 + br").style.display="inline",anyButton=!0),null===document.querySelector(".fa-box-open + span.BackupContextMenu___StyledSpan2-sc-1p494ba-8")?(_.style.display="none",document.querySelector("#filesContextButton9 + br").style.display="none"):(_.style.display="inline",document.querySelector("#filesContextButton9 + br").style.display="inline",anyButton=!0),null===document.querySelector("button.DropdownMenu__DropdownButtonRow-sc-1ojgpy2-0 .fa-lock")?(B.style.display="none",document.querySelector("#filesContextButton10 + br").style.display="none"):(B.style.display="inline",document.querySelector("#filesContextButton10 + br").style.display="inline",anyButton=!0),null===document.querySelector("button.DropdownMenu__DropdownButtonRow-sc-1ojgpy2-0 .fa-unlock")?(C.style.display="none",document.querySelector("#filesContextButton11 + br").style.display="none"):(C.style.display="inline",document.querySelector("#filesContextButton11 + br").style.display="inline",anyButton=!0),contextMenuHeightCalc(contextMenu,s),window.NebulaFilesCloseBlock=!1,anyButton?(r.style.display="none",l(contextMenu,n)):hideContextMenu("files")},500)}contextMenuHeightCalc(contextMenu,s)}function contextMenuHeightCalc(e,t){isElementNotFullyVisible(e)&&(e.style.top=t-e.getBoundingClientRect().height+"px")}function hideContextMenu(e){return"sidebar"==e?1==window.NebulaSidebarCloseBlock?void 0:(document.getElementById("nebulaContextMenu").style.height="0px",document.getElementById("nebulaContextMenu").style.boxShadow="unset",window.NebulaSidebarContextBlock=!0,void setTimeout(()=>{document.getElementById("nebulaContextMenu").style.width="unset",document.getElementById("nebulaContextMenu").style.display="none",window.NebulaSidebarContextBlock=!1,window.NebulaContextActive=!1},350)):"files"==e?1==window.NebulaFilesCloseBlock?void 0:(document.getElementById("filesContextMenu").style.height="0px",document.getElementById("filesContextMenu").style.boxShadow="unset",window.NebulaFilesContextBlock=!0,void setTimeout(()=>{document.getElementById("filesContextMenu").style.width="unset",document.getElementById("filesContextMenu").style.display="none",window.NebulaFilesContextBlock=!1,window.NebulaContextActive=!1},350)):void("more"==e&&1!=window.NebulaMoreCloseBlock&&(document.getElementById("moreContextMenu").style.height="0px",document.getElementById("moreContextMenu").style.boxShadow="unset",window.NebulaMoreContextBlock=!0,setTimeout(()=>{document.getElementById("moreContextMenu").style.width="unset",document.getElementById("moreContextMenu").style.display="none",document.querySelectorAll("#moreContextMenu .context-wrapper button").forEach(e=>{e.remove()}),window.NebulaMoreContextBlock=!1,window.NebulaContextActive=!1},350)))}async function selectDropdown(e,t){if((dropdownMenu=document.querySelector(".DropdownMenu___StyledDiv-sc-1ojgpy2-1")||!1)||t.target.dispatchEvent(new CustomEvent("contextmenu")),"rename"==e&&document.querySelector(".fa-pencil-alt + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2").click(),"move"==e&&document.querySelector(".fa-level-up-alt + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2").click(),"permissions"==e&&document.querySelector(".fa-file-code + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2").click(),"copy"==e&&document.querySelector(".fa-copy + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2").click(),"archive"==e&&document.querySelector(".fa-file-archive + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2").click(),"unarchive"==e&&document.querySelector(".fa-box-open + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2").click(),"download"==e){try{document.querySelector(".fa-file-download + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2").click()}catch{}try{document.querySelector(".fa-cloud-download-alt + span.BackupContextMenu___StyledSpan-sc-1p494ba-6").click()}catch{}}if("restore"==e&&document.querySelector(".fa-box-open + span.BackupContextMenu___StyledSpan2-sc-1p494ba-8").click(),"lock"==e&&document.querySelector("button.DropdownMenu__DropdownButtonRow-sc-1ojgpy2-0:has(.fa-lock)").click(),"unlock"==e&&document.querySelector("button.DropdownMenu__DropdownButtonRow-sc-1ojgpy2-0:has(.fa-unlock)").click(),"delete"==e){try{document.querySelector(".fa-trash-alt + span.FileDropdownMenu___StyledSpan-sc-17ln8oh-2").click()}catch{}try{document.querySelector(".fa-trash-alt + span.BackupContextMenu___StyledSpan3-sc-1p494ba-11").click()}catch{}}}console.log("nebula#~ customContextMenu.js"),document.addEventListener("click",function(e){"none"==document.querySelector("#nebulaContextMenu").style.display&&"none"==document.querySelector("#moreContextMenu").style.display&&"none"==document.querySelector("#filesContextMenu").style.display||(e.target.matches("#nebulaContextMenu")||hideContextMenu("sidebar"),e.target.matches("#moreContextMenu")||hideContextMenu("more"),e.target.matches(["#filesContextMenu","svg.svg-inline--fa.fa-ellipsis-h.fa-w-16"]))||hideContextMenu("files"),e.target.matches([".style-module_1WqkLT9X > div",".style-module_1WqkLT9X > div .FileDropdownMenu___StyledDiv-sc-17ln8oh-3",".style-module_1WqkLT9X > div .FileDropdownMenu___StyledDiv-sc-17ln8oh-3 > svg",".style-module_1WqkLT9X > div .FileDropdownMenu___StyledDiv-sc-17ln8oh-3 > svg > *",".BackupRow___StyledDiv6-sc-1lzi0pw-14 > div",".BackupRow___StyledDiv6-sc-1lzi0pw-14 > div .BackupContextMenu___StyledButton-sc-1p494ba-3",".BackupRow___StyledDiv6-sc-1lzi0pw-14 > div .BackupContextMenu___StyledButton-sc-1p494ba-3 > svg",".BackupRow___StyledDiv6-sc-1lzi0pw-14 > div .BackupContextMenu___StyledButton-sc-1p494ba-3 > svg > *"])&&(e.preventDefault(),showContextMenu(e,void 0,"files")),e.target.matches(["#sidebarServerMore","#sidebarServerMore .sidebarIcon","#sidebarServerMore .sidebarIcon + .wideSidebarSpan","#sidebarAccountMore","#sidebarAccountMore .sidebarIcon","#sidebarAccountMore .sidebarIcon + .wideSidebarSpan"])&&showContextMenu(e,void 0,"more")}),document.addEventListener("contextmenu",function(e){try{e.target.parentNode.matches([".style-module_1WqkLT9X",".style-module_1WqkLT9X > .style-module_35MPv1CD",".FileObjectRow___StyledDiv-sc-wrdnyp-0.cOiSgE",".FileObjectRow___StyledDiv-sc-wrdnyp-0.cOiSgE > .svg-inline--fa",".SelectFileCheckbox___StyledLabel-sc-1cv6gsl-1",".style-module_1WqkLT9X > div .FileDropdownMenu___StyledDiv-sc-17ln8oh-3 .svg-inline--fa",".style-module_1WqkLT9X > div"])||e.target.matches([".style-module_1WqkLT9X",".style-module_1WqkLT9X > *"])?(hideContextMenu("sidebar"),e.preventDefault(),showContextMenu(e,void 0,"files")):(hideContextMenu("more"),hideContextMenu("files"))}catch{}});